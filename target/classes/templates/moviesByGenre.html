<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <link th:href="@{/moviesByGenre.css}" rel="stylesheet" >
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" 
              rel="stylesheet" 
              integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" 
              crossorigin="anonymous">

    </head>


    <body class="bg-image"th:style="'background-size:cover ;background-image: url(/cinema-lighter.jpg)'">
        <nav class="navbar ">
            <div class="container-lg">
                <div class ="btn-group ">

                    <a class="btn btn-primary btn-lg" ><span class="position-absolute top-0  translate-middle badge rounded-pill bg-danger">
                            <div th:text="${counter}"></div>
                        </span>

                        My Watchlist</a>
                    <a class="btn btn-danger btn-lg"  th:href="@{/logout}">Logout</a>

                    <a href="#sidebarend" class=" btn btn-outline-info my-2 my-lg-0" data-bs-toggle="offcanvas" role="button" aria-controls="sidebar">
                        User Details
                    </a> 


                </div>
            </div>
        </nav> 

        <!--        <a th:href="@{/movie/movies}" class=" btn btn-outline-danger " data-bs-toggle="offcanvas" role="button" aria-controls="sidebar">
                    Back to Search
        
                </a>-->

        <div th:if="${noMovieGenre}">
            <div class="alert alert-danger" th:text="${noMovieGenre}"></div>            </div>

        <!--<div style="background-color: #03e9f4">-->



        <div class="container-lg my-5 lead text-center">
            <a href="#sidebar" class=" btn btn-outline-danger " data-bs-toggle="offcanvas" role="button" aria-controls="sidebar">
                Browse by Category

            </a> 
            <br> <br>
            <h1 th:text = "${movieGenre}" class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom" style="color: coral"></h1>

            
            
        </div>

    </div>

    <div class="container my-8 lead text-center" style="background-color: black" >



        <div class="item" style ="padding-top:3% " th:each="movie :${moviesByGenre}">
            <div>  <a th:href = "@{/../movie/movieDetails/(id = ${movie.id})}"><img th:src = "@{${movie.photosImagePath}}" width="200" height="280"></a>

                <div th:text="${movie.title}" class="fw-bold" style="color: coral" ></div>
                <div th:text="${movie.rating}" class="fw-bold" style="color: coral"></div>
                <a role="button"  th:href="@{/../movie/movieDetails/(id = ${movie.id})}">Details</a>
                <div th:object = "${activeUser}" class="box">
                    <a role="button" class="btn btn-success" th:href="@{/../movie/addtowatchlist/(movie_id=${movie.id},user_id=${activeUser.id})}">Add to WatchList</a>
                    <!--                            <div th:text="${movie.genre}"></div>
                                                <div th:text="${movie.summary}"></div>
                                                <div text=""></div>-->


                </div>

            </div>

        </div>
        <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="sidebar" aria-labelledby="sidebar-label">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="sidebar-label">Genres</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <p>

                <div class="btn-group-vertical container-lg" role="group" aria-label="Basic example">
                    <a role="button" class="btn btn-outline-secondary" th:href="@{/../movie/getByGenre/(movie_genre=${'Horror'})}">Horror</a>
                    <a role="button" class="btn btn-outline-secondary" th:href="@{/../movie/getByGenre/(movie_genre=${'Thriller'})}">Thriller</a>
                    <a role="button" class="btn btn-outline-secondary" th:href="@{/../movie/getByGenre/(movie_genre=${'Comedy'})}">Comedy</a>
                    <a role="button" class="btn btn-outline-secondary" th:href="@{/../movie/getByGenre/(movie_genre=${'Drama'})}">Drama</a>
                    <a role="button" class="btn btn-outline-secondary" th:href="@{/../movie/getByGenre/(movie_genre=${'Action'})}">Action</a>
                    <a role="button" class="btn btn-outline-secondary" th:href="@{/../movie/getByGenre/(movie_genre=${'Documentary'})}">Documentary</a>
                    <a role="button" class="btn btn-outline-secondary" th:href="@{/../movie/getByGenre/(movie_genre=${'Romance'})}">Romance</a>

                </div>




                </p>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" 
                integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" 
        crossorigin="anonymous"></script>
</body>
</html>
